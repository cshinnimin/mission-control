<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Row Component Demo</title>
		<script type="module" src="src/components/presentational/data-row/DataRow.js"></script>
		<script type="module" src="src/components/presentational/expandable-list/ExpandableList.js"></script>
		<script type="module" src="src/components/presentational/expandable-row/ExpandableRow.js"></script>
		<script type="module" src="src/components/presentational/expandable-row-list/ExpandableRowList.js"></script>
		<style>
			html, body { height: 100%; margin: 0; }
			body {
				background-color: #000;
				background-image: url('assets/images/background.jpg');
				background-repeat: no-repeat;
				background-position: center center;
				background-size: cover;
				background-attachment: fixed;
				display: flex;
				align-items: center;
				justify-content: center;
				padding: 40px;
			}
			.wrap { width: 90%; max-width: 1100px; }
		</style>
	</head>
	<body>
		<div class="wrap">
			<h2 style="color: white; margin-bottom: 8px;">DataRow.js Example</h2>
			<data-row data='{
					"options": { "show_column_names": false, "border-color": "darkgreen" },
					"columns": [
						{ "name": "ID", "width": "10%", "contents": "T-01" },
						{ "name": "Name", "width": "20%", "contents": "Build feature" },
						{ "name": "Description", "width": "15%", "contents": "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading." },
						{ "name": "Status", "width": "20%", "contents": "In Progress" },
						{ "name": "Priority", "width": "20%", "contents": "High" },
						{ "name": "ETA", "width": "15%", "contents": "2026-02-01" }
					]
				}'></data-row>

			<div style="display:flex; align-items:center; justify-content:space-between; margin: 24px 0 8px;">
				<h2 style="color: white; margin: 0;">ExpandableList.js Example</h2>
				<button id="expand-toggle" aria-label="Toggle expandable list" style="background:#111; color:#fff; border:1px solid rgba(255,255,255,0.08); padding:4px 8px; border-radius:6px; cursor:pointer;">-</button>
			</div>
			<expandable-list expanded="false" data='{
				"column-widths": ["10%", "20%", "15%", "20%", "20%", "15%"],
				"row-border-colors": ["darkgreen","black","darkred","#871F78","black"],
				"row-data": [
					["T-01", "Build feature", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "In Progress", "High", "2026-02-01"],
					["T-02", "Write tests", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "Open", "Medium", "2026-02-10"],
					["T-03", "Code review", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "Blocked", "Low", "2026-03-01"],
					["T-04", "Deploy", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "Complete", "High", "2026-02-20"],
					["T-05", "Monitor", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "In Progress", "Low", "2026-04-01"]
				]
			}'></expandable-list>

		<script>
			(function(){
				const btn = document.getElementById('expand-toggle');
				const list = document.querySelector('expandable-list');
				if (!btn || !list) return;
				// initialize label based on attribute
				const isExpanded = !(list.getAttribute('expanded') === 'false' || list.getAttribute('expanded') === '0');
				btn.textContent = isExpanded ? '-' : '+';
				btn.addEventListener('click', () => {
					const cur = !(list.getAttribute('expanded') === 'false' || list.getAttribute('expanded') === '0');
					if (cur) {
						list.setAttribute('expanded', 'false');
						btn.textContent = '+';
					} else {
						list.setAttribute('expanded', 'true');
						btn.textContent = '-';
					}
				});
			})();
		</script>

		<h2 style="color: white; margin-top: 32px;">ExpandableRow.js Example</h2>
		<expandable-row data='{
                "data-row": {
                    "options": { "show_column_names": true, "border-color": "darkgreen" },
                    "columns": [
                        { "name": "ID", "width": "10%", "contents": "T-01" },
                        { "name": "Name", "width": "20%", "contents": "Build feature" },
                        { "name": "Description", "width": "15%", "contents": "This is a long description that may overflow and should be truncated with a tooltip." },
                        { "name": "Status", "width": "20%", "contents": "In Progress" },
                        { "name": "Priority", "width": "20%", "contents": "High" },
                        { "name": "ETA", "width": "15%", "contents": "2026-02-01" }
                    ]
                },
                "expandable-list": {
                    "column-widths": ["10%", "20%", "15%", "20%", "20%", "15%"],
                    "row-border-colors": ["darkgreen", "black"],
                    "row-data": [
                        ["T-01-1", "Task 1", "Detail A for T-01", "In Progress", "High", "2026-02-01"],
                        ["T-01-2", "Task 2", "Detail B for T-01", "Open", "Low", "2026-02-10"],
                        ["T-01-3", "Task 3", "Detail C for T-01", "Complete", "Medium", "2026-03-01"],
                        ["T-01-4", "Task 4", "Detail D for T-01", "Blocked", "High", "2026-02-20"]
                    ]
                }
            }'></expandable-row>

		<h2 style="color: white; margin-top: 32px;">ExpandableRowList.js Example (5 children)</h2>
		<expandable-row-list data='[
				{
					"data-row": {
						"options": { "show_column_names": true, "border-color": "darkgreen" },
						"columns": [
							{ "name": "ID", "width": "10%", "contents": "R-01" },
							{ "name": "Name", "width": "20%", "contents": "Parent 1" },
							{ "name": "Description", "width": "15%", "contents": "Parent row description." },
							{ "name": "Status", "width": "20%", "contents": "Open" },
							{ "name": "Priority", "width": "20%", "contents": "High" },
							{ "name": "ETA", "width": "15%", "contents": "2026-02-01" }
						]
					},
					"expandable-list": {
						"column-widths": ["10%", "20%", "15%", "20%", "20%", "15%"],
						"row-border-colors": ["black","black","black","black"],
						"row-data": [
							["R-01-1","Child A","Detail 1","Open","Low","2026-02-01"],
							["R-01-2","Child B","Detail 2","In Progress","Medium","2026-02-05"],
							["R-01-3","Child C","Detail 3","Complete","High","2026-02-10"],
							["R-01-4","Child D","Detail 4","Blocked","Low","2026-02-15"]
						]
					}
				},
				{
					"data-row": {
						"options": { "show_column_names": true, "border-color": "#871F78" },
						"columns": [
							{ "name": "ID", "width": "10%", "contents": "R-02" },
							{ "name": "Name", "width": "20%", "contents": "Parent 2" },
							{ "name": "Description", "width": "15%", "contents": "Another parent." },
							{ "name": "Status", "width": "20%", "contents": "In Progress" },
							{ "name": "Priority", "width": "20%", "contents": "Medium" },
							{ "name": "ETA", "width": "15%", "contents": "2026-03-01" }
						]
					},
					"expandable-list": {
						"column-widths": ["10%", "20%", "15%", "20%", "20%", "15%"],
						"row-border-colors": ["black","black","black","black"],
						"row-data": [
							["R-02-1","Child A","Detail 1","Open","Low","2026-03-01"],
							["R-02-2","Child B","Detail 2","Open","Low","2026-03-05"],
							["R-02-3","Child C","Detail 3","In Progress","Medium","2026-03-10"],
							["R-02-4","Child D","Detail 4","Complete","High","2026-03-15"]
						]
					}
				},
				{
					"data-row": {
						"options": { "show_column_names": true, "border-color": "darkred" },
						"columns": [
							{ "name": "ID", "width": "10%", "contents": "R-03" },
							{ "name": "Name", "width": "20%", "contents": "Parent 3" },
							{ "name": "Description", "width": "15%", "contents": "Third parent." },
							{ "name": "Status", "width": "20%", "contents": "Blocked" },
							{ "name": "Priority", "width": "20%", "contents": "High" },
							{ "name": "ETA", "width": "15%", "contents": "2026-04-01" }
						]
					},
					"expandable-list": {
						"column-widths": ["10%", "20%", "15%", "20%", "20%", "15%"],
						"row-border-colors": ["black","black","black","black"],
						"row-data": [
							["R-03-1","Child A","Detail 1","Open","Low","2026-04-01"],
							["R-03-2","Child B","Detail 2","In Progress","Medium","2026-04-05"],
							["R-03-3","Child C","Detail 3","In Progress","Medium","2026-04-10"],
							["R-03-4","Child D","Detail 4","Complete","High","2026-04-15"]
						]
					}
				},
				{
					"data-row": {
						"options": { "show_column_names": true, "border-color": "black" },
						"columns": [
							{ "name": "ID", "width": "10%", "contents": "R-04" },
							{ "name": "Name", "width": "20%", "contents": "Parent 4" },
							{ "name": "Description", "width": "15%", "contents": "Fourth parent." },
							{ "name": "Status", "width": "20%", "contents": "Complete" },
							{ "name": "Priority", "width": "20%", "contents": "Low" },
							{ "name": "ETA", "width": "15%", "contents": "2026-05-01" }
						]
					},
					"expandable-list": {
						"column-widths": ["10%", "20%", "15%", "20%", "20%", "15%"],
						"row-border-colors": ["black","black","black","black"],
						"row-data": [
							["R-04-1","Child A","Detail 1","Open","Low","2026-05-01"],
							["R-04-2","Child B","Detail 2","Open","Low","2026-05-05"],
							["R-04-3","Child C","Detail 3","Open","Low","2026-05-10"],
							["R-04-4","Child D","Detail 4","In Progress","Medium","2026-05-15"]
						]
					}
				},
				{
					"data-row": {
						"options": { "show_column_names": true, "border-color": "black" },
						"columns": [
							{ "name": "ID", "width": "10%", "contents": "R-05" },
							{ "name": "Name", "width": "20%", "contents": "Parent 5" },
							{ "name": "Description", "width": "15%", "contents": "Fifth parent." },
							{ "name": "Status", "width": "20%", "contents": "Open" },
							{ "name": "Priority", "width": "20%", "contents": "Medium" },
							{ "name": "ETA", "width": "15%", "contents": "2026-06-01" }
						]
					},
					"expandable-list": {
						"column-widths": ["10%", "20%", "15%", "20%", "20%", "15%"],
						"row-border-colors": ["black","black","black","black"],
						"row-data": [
							["R-05-1","Child A","Detail 1","Open","Low","2026-06-01"],
							["R-05-2","Child B","Detail 2","Open","Low","2026-06-05"],
							["R-05-3","Child C","Detail 3","In Progress","Medium","2026-06-10"],
							["R-05-4","Child D","Detail 4","Complete","High","2026-06-15"]
						]
					}
				}
			]'></expandable-row-list>
		</div>
	</body>
</html>
