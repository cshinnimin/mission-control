<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Row Component Demo</title>
		<script type="module" src="src/components/presentational/data-row/DataRow.js"></script>
		<script type="module" src="src/components/presentational/expandable-list/ExpandableList.js"></script>
		<script type="module" src="src/components/presentational/expandable-row/ExpandableRow.js"></script>
		<style>
			html, body { height: 100%; margin: 0; }
			body { background: #000; display: flex; align-items: center; justify-content: center; padding: 40px; }
			.wrap { width: 90%; max-width: 1100px; }
		</style>
	</head>
	<body>
		<div class="wrap">
			<h2 style="color: white; margin-bottom: 8px;">DataRow.js Example</h2>
			<data-row data='{
					"options": { "show_column_names": false, "border-color": "darkgreen" },
					"columns": [
						{ "name": "ID", "width": "10%", "contents": "T-01" },
						{ "name": "Name", "width": "20%", "contents": "Build feature" },
						{ "name": "Description", "width": "15%", "contents": "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading." },
						{ "name": "Status", "width": "20%", "contents": "In Progress" },
						{ "name": "Priority", "width": "20%", "contents": "High" },
						{ "name": "ETA", "width": "15%", "contents": "2026-02-01" }
					]
				}'></data-row>

			<div style="display:flex; align-items:center; justify-content:space-between; margin: 24px 0 8px;">
				<h2 style="color: white; margin: 0;">ExpandableList.js Example</h2>
				<button id="expand-toggle" aria-label="Toggle expandable list" style="background:#111; color:#fff; border:1px solid rgba(255,255,255,0.08); padding:4px 8px; border-radius:6px; cursor:pointer;">-</button>
			</div>
			<expandable-list expanded="false" data='{
				"column-widths": ["10%", "20%", "15%", "20%", "20%", "15%"],
				"row-border-colors": ["darkgreen","black","darkred","#871F78","black"],
				"row-data": [
					["T-01", "Build feature", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "In Progress", "High", "2026-02-01"],
					["T-02", "Write tests", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "Open", "Medium", "2026-02-10"],
					["T-03", "Code review", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "Blocked", "Low", "2026-03-01"],
					["T-04", "Deploy", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "Complete", "High", "2026-02-20"],
					["T-05", "Monitor", "This is a very long description that should overflow the available space and be truncated with an ellipsis; hovering should show the full text to the user for easy reading.", "In Progress", "Low", "2026-04-01"]
				]
			}'></expandable-list>

		<script>
			(function(){
				const btn = document.getElementById('expand-toggle');
				const list = document.querySelector('expandable-list');
				if (!btn || !list) return;
				// initialize label based on attribute
				const isExpanded = !(list.getAttribute('expanded') === 'false' || list.getAttribute('expanded') === '0');
				btn.textContent = isExpanded ? '-' : '+';
				btn.addEventListener('click', () => {
					const cur = !(list.getAttribute('expanded') === 'false' || list.getAttribute('expanded') === '0');
					if (cur) {
						list.setAttribute('expanded', 'false');
						btn.textContent = '+';
					} else {
						list.setAttribute('expanded', 'true');
						btn.textContent = '-';
					}
				});
			})();
		</script>

		<h2 style="color: white; margin-top: 32px;">ExpandableRow.js Example</h2>
		<expandable-row data='{
                "data-row": {
                    "options": { "show_column_names": true, "border-color": "darkgreen" },
                    "columns": [
                        { "name": "ID", "width": "10%", "contents": "T-01" },
                        { "name": "Name", "width": "20%", "contents": "Build feature" },
                        { "name": "Description", "width": "15%", "contents": "This is a long description that may overflow and should be truncated with a tooltip." },
                        { "name": "Status", "width": "20%", "contents": "In Progress" },
                        { "name": "Priority", "width": "20%", "contents": "High" },
                        { "name": "ETA", "width": "15%", "contents": "2026-02-01" }
                    ]
                },
                "expandable-list": {
                    "column-widths": ["10%", "20%", "15%", "20%", "20%", "15%"],
                    "row-border-colors": ["darkgreen", "black"],
                    "row-data": [
                        ["T-01-1", "Task 1", "Detail A for T-01", "In Progress", "High", "2026-02-01"],
                        ["T-01-2", "Task 2", "Detail B for T-01", "Open", "Low", "2026-02-10"],
                        ["T-01-3", "Task 3", "Detail C for T-01", "Complete", "Medium", "2026-03-01"],
                        ["T-01-4", "Task 4", "Detail D for T-01", "Blocked", "High", "2026-02-20"]
                    ]
                }
            }'></expandable-row>
		</div>
	</body>
</html>
